<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Installing from source - TS Ingress Controller</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Installing from source";
    var mkdocs_page_input_path = "source.md";
    var mkdocs_page_url = "/source/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> TS Ingress Controller</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Installation</span></li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Installing from source</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#installing-the-plugin-from-source">Installing the plugin from source</a></li>
                
                    <li><a class="toctree-l4" href="#requirements">Requirements</a></li>
                
                    <li><a class="toctree-l4" href="#building">Building</a></li>
                
                    <li><a class="toctree-l4" href="#configuration">Configuration</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../docker/">Using the Docker Image</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../classes/">Using multiple Ingress controllers</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../config/">Configuration</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Usage</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../annotations/">Annotations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../caching/">Caching</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../auth/">Authentication</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../external/">External proxying</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tls/">TLS</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">TS Ingress Controller</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Installation &raquo;</li>
        
      
    
    <li>Installing from source</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/torchbox/k8s-ts-ingress" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="installing-the-plugin-from-source">Installing the plugin from source</h1>
<p>If you want to integrate Kubernetes with an existing Traffic Server installation,
you can build the plugin from source.  If you're planning to deploy the plugin
inside a Kubernetes cluster, you should read <a href="../docker/">Using the Docker image</a>
instead.</p>
<h2 id="requirements">Requirements</h2>
<p>The following are required to build:</p>
<ul>
<li>Traffic Server 7.0 or later (including development headers).  Older versions
  might work, but are not tested or supported.</li>
<li>A working C99 compiler and <code>make</code> utility.</li>
<li>json-c library</li>
<li>cURL library</li>
<li>OpenSSL (or a compatible TLS library, e.g. LibreSSL)</li>
</ul>
<p>If you want to run the unit tests, a C++11 compiler is required.  If you want to
run the end-to-end tests, a Linux/amd64 host is required (because those tests
require running the Kubernetes API server).</p>
<h2 id="building">Building</h2>
<p>To build and install the plugin:</p>
<pre><code class="sh">$ autoreconf -if            # only if building from a git checkout
$ ./configure [--with-tsxs=/path/to/trafficserver/bin/tsxs]
$ make
$ make install
</code></pre>

<p>This will put <code>kubernetes.so</code> in your Traffic Server plugins directory.  Edit
<code>plugin.config</code> to tell Traffic Server to load the plugin.</p>
<p>To run the unit tests:</p>
<pre><code class="sh">$ make test
</code></pre>

<p>To run the end-to-end tests:</p>
<pre><code class="sh">$ tests/e2erun.sh
</code></pre>

<h2 id="configuration">Configuration</h2>
<p>If Traffic Server is not running inside the cluster, you will need to provide a
<code>kubernetes.config</code> configuration file.  See <a href="../config/">Configuration</a> for
details.</p>
<p>If TS is running inside the cluster, it will pick up its service account details
automatically and the configuration file is not required, but you will need to
ensure it has access to the resources it needs to run.  If you're using RBAC
for authorization, see <code>rbac.yaml</code> for an example RBAC configuration.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../docker/" class="btn btn-neutral float-right" title="Using the Docker Image">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright (c) 2016-2017 Torchbox Ltd.</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/torchbox/k8s-ts-ingress" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../docker/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
